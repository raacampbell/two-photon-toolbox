
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>twoPImportBatch</title><meta name="generator" content="MATLAB 8.1"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2013-06-17"><meta name="DC.source" content="twoPImportBatch.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, tt, code { font-size:12px; }
pre { margin:0px 0px 20px; }
pre.error { color:red; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>twoPImportBatch</h1><!--introduction--><p>Import and pre-process all PraireView data in current directory</p><p><tt>function twoPImportBatch(d,iniFileName)</tt></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Purpose</a></li><li><a href="#2">Basic function calls</a></li><li><a href="#3">Inputs</a></li><li><a href="#4">Detailed function calls</a></li></ul></div><h2>Purpose<a name="1"></a></h2><p>Call from a root data directory to import all the data it contains. I.e. a root data directory is one which contains all the TSeries or ZSeries directories generated by PrairieView. This routine expects a single parameter file (that produced by deliverOdours) in each TSeries directory. If the parameter file is missing then certain analysis operations are not performed.</p><h2>Basic function calls<a name="2"></a></h2><pre>|twoPImportBatch(d)| - process .mat files defined by d
|twoPImportBatch(iniFileName)| - process all directories in current
                                 directory using a defined preference file.
|twoPImportBatch(d,iniFileName)| - both are defined</pre><p>You need to supply at least one argument: e.g. twoPImportBatch('default.ini')</p><h2>Inputs<a name="3"></a></h2><p><tt>d</tt> - optional. If d is missing or empty then all sub-directories are     searched for data and imported. If d exists then the import     step is not done since the routine assumes that .mat data     files have already been created. The location of these files     is specified by the structure, d, which can be created, for     example, by running d=dir('*.mat') from the root data     directory.</p><p><tt>iniFileName</tt> - path to INI file which defines how the analyses are               to be run. If not supplied then a default INI file               is used with all the basic (e.g. no warping)               analyses done.</p><h2>Detailed function calls<a name="4"></a></h2><p>You can also define param/value pairs with which to run the import. Parameters defined here overrule what is defined in the INI file. Only commonly-altered options are over-ridden at the command line.</p><pre>|twoPImportBatch(d,'param1',val1,...)|
|twoPImportBatch(iniFileName,'param1',val1,...)|
|twoPImportBatch(d,iniFileName,'param1',val1,...)|
|twoPImportBatch([],iniFileName,'param1',val1,...)|</pre><p>Param/Value pairs:</p><p><tt>motion_correction</tt> - the algorithm used to conduct the registration:</p><div><ol><li><tt>ffttrans</tt> - an fft-based sub-pixel translation correction in x and y. No rotation correction. Implemented by <a href="apply_ffttrans.html"><tt>apply_ffttrans</tt></a> This is the default.</li><li>demon - CPU-based non-rigid fluid-like registration.  Options for rigid, affine, and non-rigid; as well as various other parameters such as fluidity.  see <a href="apply_demon.html"><tt>apply_demon</tt></a></li><li>elastix - elastix is an elaborate image registraion suite written in C++. A Matlab wrapper is provided for it. see <a href="apply_elastix.html"><tt>apply_elastix</tt></a></li><li>gkerr - Greenberg &amp; Kerr 2-photon optimised correction.         See <a href="apply_gkerr.html"><tt>apply_gkerr</tt></a> Using coefficients to conduct a         translation isn't supported since corrections        cannot be generalised across frames.</li><li>symmetric - GPU-based non-rigid registration. Doesn't have              many options. See <a href="apply_symmetric.html"><tt>apply_symmetric</tt></a> Using              coefficients to conduct a translation isn't              supported since this function is the least              useful.</li></ol></div><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2013a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% twoPImportBatch
% Import and pre-process all PraireView data in current directory
%
% |function twoPImportBatch(d,iniFileName)|
%
%% Purpose
% Call from a root data directory to import all the data it
% contains. I.e. a root data directory is one which contains all
% the TSeries or ZSeries directories generated by PrairieView. This
% routine expects a single parameter file (that produced by
% deliverOdours) in each TSeries directory. If the parameter file
% is missing then certain analysis operations are not performed. 
%
%% Basic function calls
%  |twoPImportBatch(d)| - process .mat files defined by d
%  |twoPImportBatch(iniFileName)| - process all directories in current 
%                                   directory using a defined preference file.
%  |twoPImportBatch(d,iniFileName)| - both are defined 
%
% ** You need to supply at least one argument:
% e.g. twoPImportBatch('default.ini')
%
%% Inputs 
% |d| - optional. If d is missing or empty then all sub-directories are
%     searched for data and imported. If d exists then the import
%     step is not done since the routine assumes that .mat data
%     files have already been created. The location of these files
%     is specified by the structure, d, which can be created, for
%     example, by running d=dir('*.mat') from the root data
%     directory. 
%
% |iniFileName| - path to INI file which defines how the analyses are
%               to be run. If not supplied then a default INI file
%               is used with all the basic (e.g. no warping)
%               analyses done. 
%
% 
%% Detailed function calls
% You can also define param/value pairs with which to run the import. 
% Parameters defined here overrule what is defined in the INI file. Only 
% commonly-altered options are over-ridden at the command line. 
%
%  |twoPImportBatch(d,'param1',val1,...)| 
%  |twoPImportBatch(iniFileName,'param1',val1,...)| 
%  |twoPImportBatch(d,iniFileName,'param1',val1,...)| 
%  |twoPImportBatch([],iniFileName,'param1',val1,...)|
%
% Param/Value pairs:
%
% |motion_correction| - the algorithm used to conduct the registration:
%
% # |ffttrans| - an fft-based sub-pixel translation correction in x and
% y. No rotation correction. Implemented by <apply_ffttrans.html |apply_ffttrans|> This
% is the default.
% # demon - CPU-based non-rigid fluid-like registration.  Options
% for rigid, affine, and non-rigid; as well as various other
% parameters such as fluidity.  see <apply_demon.html |apply_demon|>
% # elastix - elastix is an elaborate image registraion suite
% written in C++. A Matlab wrapper is provided for it. see
% <apply_elastix.html |apply_elastix|>
% # gkerr - Greenberg & Kerr 2-photon optimised correction. 
%         See <apply_gkerr.html |apply_gkerr|> Using coefficients to conduct a
%         translation isn't supported since corrections
%        cannot be generalised across frames. 
% # symmetric - GPU-based non-rigid registration. Doesn't have
%              many options. See <apply_symmetric.html |apply_symmetric|> Using
%              coefficients to conduct a translation isn't
%              supported since this function is the least
%              useful. 
% 


##### SOURCE END #####
--></body></html>